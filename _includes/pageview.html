{%- include snippets/assign.html target=site.data.variables.default.pageview source0=layout.pageview source1=page.pageview -%}
{%- assign _pageview = __return -%}


{%- if page.layout == "home" or page.layout == "home_page" -%}

  {%- if jekyll.environment != "development" -%}
    {%- if site.pageview.provider == 'leancloud' -%}
      {%- include pageview-providers/leancloud/home.html -%}
    {%- elsif site.pageview.provider == 'custom' -%}
      {%- include pageview-providers/custom/home.html -%}
    {%- endif -%}
  {%- endif -%}


{%- elsif page.layout == "article" -%}
  {%- if _pageview -%}

    {%- if jekyll.environment != "development" and
      jekyll.environment != "beta" -%}
      {%- if site.pageview.provider == 'leancloud' -%}
        {%- include pageview-providers/leancloud/post.html -%}
      {%- elsif site.pageview.provider == 'custom' -%}
        {%- include pageview-providers/custom/post.html -%}
      {%- endif -%}
    {%- endif -%}

  {%- endif -%}
{%- endif -%}
